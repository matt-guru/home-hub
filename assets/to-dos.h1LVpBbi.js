import{o as c,c as m,a as l,t as b,r as v,q as w,s as U,v as I,u as D,x as $,y as B,F as k,z as x,A as T}from"./entry.npqCeY5r.js";const K={class:"flex-shrink-0 w-64 flex flex-col text-center mr-4"},V=["src"],z={class:"mb-2"},R={__name:"User",props:{user:Object},emits:["addTodo"],setup(e,{emit:t}){const s=e,d=t,o=()=>{d("addTodo",s.user.id)};return(a,p)=>(c(),m("div",K,[l("img",{class:"w-24 h-24 rounded-full mx-auto",src:`./img/${s.user.image}`,alt:"",width:"384",height:"512"},null,8,V),l("h2",z,b(s.user.name),1),l("button",{class:"w-full pointer-events-auto rounded-md px-3 py-2 text-sm font-semibold leading-5 ring-1 ring-slate-900/10 text-gray-500 hover:text-white hover:bg-green-400 transition-all",onClick:o}," + New ")]))}},j={key:1,class:"p-4"},C={__name:"TodoItem",props:["task","color","userId"],emits:["updateTaskTitle","removeTask"],setup(e,{emit:t}){const s=e,d=t,o=v(!1),a=v(s.task.title),p=()=>{o.value=!0},i=async()=>{o.value=!1,await B(),d("updateTaskTitle",{userId:s.userId,taskId:s.task.id,newTitle:a.value})},r=()=>{d("removeTask",{userId:s.userId,taskId:s.task.id})};return(u,_)=>(c(),m("div",{class:$(`flex-shrink-0 w-64 mr-4 rounded-lg bg-white text-lg text-left leading-5 text-slate-900 shadow-lg shadow-black/5 ring-1 ring-slate-700/10 mb-4 border-l-4 border-s-${s.color}-500`)},[o.value?w("",!0):(c(),m("div",{key:0,class:"p-4",onClick:p},b(s.task.title),1)),o.value?(c(),m("div",j,[U(l("input",{"onUpdate:modelValue":_[0]||(_[0]=f=>a.value=f),onBlur:i,onKeyup:D(i,["enter"]),class:"w-full border rounded p-2"},null,544),[[I,a.value]])])):w("",!0),l("div",{class:"flex gap-3 p-4"},[l("button",{class:"w-full pointer-events-auto rounded-md px-3 py-2 text-sm font-semibold leading-5 ring-1 ring-slate-900/10 hover:text-white hover:bg-green-400 transition-all",onClick:r}," Done ")])],2))}};let h;const E=new Uint8Array(16);function N(){if(!h&&(h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(E)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function S(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}const A=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:A};function g(e,t,s){if(y.randomUUID&&!t&&!e)return y.randomUUID();e=e||{};const d=e.random||(e.rng||N)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,t){s=s||0;for(let o=0;o<16;++o)t[s+o]=d[o];return t}return S(d)}const G=l("section",{class:"p-4 mb-4 border border-b-1 bg-white shadow-xl shadow-black/5"},[l("h1",{class:"text-xl"},"To-dos")],-1),F={class:"mx-auto overflow-x-auto pb-20"},O={class:"flex flex-wrap mx-4"},q={class:"flex w-full"},H={class:"flex w-full pt-6"},L={class:"flex-shrink-0 w-64 mr-4"},J={__name:"to-dos",setup(e){const t=a=>{const p=o.value[0].people.find(i=>i.id===a);p?p["to-dos"].push({id:g(),title:"New Todo",due_date:"2023-02-02",status:"pending"}):console.warn("User not found with id",a)},s=({userId:a,taskId:p,newTitle:i})=>{const r=o.value[0].people.find(u=>u.id===a);if(r){const u=r["to-dos"].findIndex(_=>_.id===p);u!==-1&&(r["to-dos"][u].title=i)}},d=({userId:a,taskId:p})=>{const i=o.value[0].people.find(r=>r.id===a);i&&(i["to-dos"]=i["to-dos"].filter(r=>r.id!==p))},o=v([{household_name:"Example",picture_url:"image.png",people:[{id:0,name:"Kermit",color:"green",image:"kermit.jpeg","to-dos":[{id:g(),title:"Kermit task 1",due_date:"2023-02-02",status:"pending"},{id:g(),title:"Kermit task 2",due_date:"2023-02-02",status:"pending"},{id:g(),title:"Kermit task 3",due_date:"2023-02-02",status:"pending"},{id:g(),title:"Kermit task 4",due_date:"2023-02-02",status:"pending"}]},{id:1,name:"Gonzo",color:"blue",image:"gonzo.jpeg","to-dos":[{id:g(),title:"Gonzo task 1",due_date:"2023-02-02",status:"pending"},{id:g(),title:"Gonzo task 2",due_date:"2023-02-02",status:"pending"}]},{id:2,name:"Beaker",color:"orange",image:"beaker.jpeg","to-dos":[{id:g(),title:"Beaker task 1",due_date:"2023-02-02",status:"pending"}]}]}]);return(a,p)=>{const i=R,r=C;return c(),m("div",null,[G,l("div",F,[l("div",O,[l("header",q,[(c(!0),m(k,null,x(o.value[0].people,u=>(c(),T(i,{user:u,onAddTodo:t},null,8,["user"]))),256))]),l("section",H,[(c(!0),m(k,null,x(o.value[0].people,u=>(c(),m("div",L,[(c(!0),m(k,null,x(u["to-dos"],_=>(c(),T(r,{key:_.id,task:_,"user-id":u.id,color:u.color,onUpdateTaskTitle:s,onRemoveTask:d},null,8,["task","user-id","color"]))),128))]))),256))])])])])}}};export{J as default};

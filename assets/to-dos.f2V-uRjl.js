import{o as i,c as r,a as d,t as v,r as f,q as w,s as h,u as b,v as I,x as y,y as B,z as $,F as g,A as k,B as x}from"./entry.cBoSFiMP.js";const K={class:"flex-shrink-0 w-64 flex flex-col text-center mr-4"},z=["src"],U={class:"mb-2"},C={__name:"User",props:{user:Object},emits:["addTodo"],setup(_,{emit:m}){const e=_,c=m,t=()=>{c("addTodo",e.user.id)};return(s,l)=>(i(),r("div",K,[d("img",{class:"w-24 h-24 rounded-full mx-auto",src:`./img/${e.user.image}`,alt:"",width:"384",height:"512"},null,8,z),d("h2",U,v(e.user.name),1),d("button",{class:"w-full pointer-events-auto rounded-md px-3 py-2 text-sm font-semibold leading-5 ring-1 ring-slate-900/10 text-gray-500 hover:text-white hover:bg-indigo-500",onClick:t}," + New ")]))}},j={key:1,class:"p-4"},E={__name:"TodoItem",props:["task","color","userId"],emits:["updateTaskTitle","removeTask"],setup(_,{emit:m}){const e=_,c=m,t=f(!1),s=f(e.task.title);w(()=>{var u;return(u=data.value[0].people.find(p=>p.id===e.userId))==null?void 0:u["to-dos"].find(p=>p.id===e.task.id)});const l=()=>{t.value=!0},o=async()=>{t.value=!1,await $(),c("updateTaskTitle",{userId:e.userId,taskId:e.task.id,newTitle:s.value})},n=()=>{},a=()=>{c("removeTask",{userId:e.userId,taskId:e.task.id})};return(u,p)=>(i(),r("div",{class:B(`flex-shrink-0 w-64 mr-4 rounded-lg bg-white text-lg text-left leading-5 text-slate-900 shadow-xl shadow-black/5 ring-1 ring-slate-700/10 mb-4 border-l-4 border-s-${e.color}-500`)},[t.value?h("",!0):(i(),r("div",{key:0,class:"p-4",onClick:l},v(e.task.title),1)),t.value?(i(),r("div",j,[b(d("input",{"onUpdate:modelValue":p[0]||(p[0]=T=>s.value=T),onInput:n,onBlur:o,onKeyup:y(o,["enter"]),class:"w-full border rounded p-2"},null,544),[[I,s.value]])])):h("",!0),d("div",{class:"flex gap-3 p-4"},[d("button",{class:"w-full pointer-events-auto rounded-md px-3 py-2 text-sm font-semibold leading-5 outline outline-1 hover:text-white hover:bg-indigo-500",onClick:a}," Done ")])],2))}},N=d("section",{class:"p-4 mb-4 border border-b-1"},[d("h1",{class:"text-xl"},"To-dos")],-1),D={class:"mx-auto overflow-x-auto pb-20"},G={class:"flex flex-wrap mx-4"},V={class:"flex w-full"},A={class:"flex w-full pt-6"},F={class:"flex-shrink-0"},R={__name:"to-dos",setup(_){const m=s=>{const l=t.value[0].people.find(o=>o.id===s);l?l["to-dos"].push({title:"New Todo",due_date:"2023-02-02",status:"pending"}):console.warn("User not found with id",s)},e=({userId:s,taskId:l,newTitle:o})=>{const n=t.value[0].people.find(a=>a.id===s);if(n){const a=n["to-dos"].findIndex(u=>u.id===l);a!==-1&&(n["to-dos"][a].title=o)}},c=({userId:s,taskId:l})=>{const o=t.value[0].people.find(n=>n.id===s);o&&(o["to-dos"]=o["to-dos"].filter(n=>n.id!==l))},t=f([{household_name:"Example",picture_url:"image.png",people:[{id:0,name:"Kermit",color:"green",image:"kermit.jpeg","to-dos":[{id:10,title:"Kermit task 1",due_date:"2023-02-02",status:"pending"},{id:11,title:"Kermit task 2",due_date:"2023-02-02",status:"pending"},{id:12,title:"Kermit task 3",due_date:"2023-02-02",status:"pending"},{id:13,title:"Kermit task 4",due_date:"2023-02-02",status:"pending"}]},{id:1,name:"Gonzo",color:"blue",image:"gonzo.jpeg","to-dos":[{id:14,title:"Gonzo task 1",due_date:"2023-02-02",status:"pending"},{id:15,title:"Gonzo task 2",due_date:"2023-02-02",status:"pending"}]},{id:2,name:"Beaker",color:"orange",image:"beaker.jpeg","to-dos":[{id:16,title:"Beaker task 1",due_date:"2023-02-02",status:"pending"}]}]}]);return(s,l)=>{const o=C,n=E;return i(),r("div",null,[N,d("div",D,[d("div",G,[d("header",V,[(i(!0),r(g,null,k(t.value[0].people,a=>(i(),x(o,{user:a,onAddTodo:m},null,8,["user"]))),256))]),d("section",A,[(i(!0),r(g,null,k(t.value[0].people,a=>(i(),r("div",F,[(i(!0),r(g,null,k(a["to-dos"],u=>(i(),x(n,{key:u.id,task:u,"user-id":a.id,color:a.color,onUpdateTaskTitle:e,onRemoveTask:c},null,8,["task","user-id","color"]))),128))]))),256))])])])])}}};export{R as default};
